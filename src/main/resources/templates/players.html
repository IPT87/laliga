<!DOCTYPE html>
<html lang="en">

<head th:replace="~{fragments/head::head}">
</head>
<body style="background-image: url('/images/stadium.jpeg')">

<div>
    <nav th:replace="~{fragments/navigation :: navigation}"></nav>
</div>

<div class="container-fluid">

    <h2 class="text-center text-white mt-5">Players</h2>

    <table id="players-table" class="table table-dark table-striped">
        <thead>
        <tr>
            <th></th>
            <th class="font-monospace">NAME</th>
            <th></th>
            <th class="font-monospace">TEAM</th>
            <th class="font-monospace">GOALS SCORED</th>
            <th class="font-monospace">GAMES</th>
            <th class="font-monospace">GOALS PER MATCH</th>
        </tr>
        </thead>
        <tbody id="players-container">
        <tr th:each="player: ${players}">
            <td> <a th:href="'http://localhost:8080/players/' + ${player.name}" > <img th:src="${player.photoUrl}" width = '60vw' height = '60vw'  alt="Player photo"> </a> </td>
            <td th:text="${player.name} + ' ' + ${player.lastName}"></td>
            <td> <img th:src="${player.teamLogoUrl}" width = '30vw' height = '30vw' > </td>
            <td th:text="${player.teamName}"></td>
            <td th:text="${player.goals}"></td>
            <td th:text="${player.matchesPlayed}"></td>
            <td id="averageGoals" th:text="${player.goals} / ${player.matchesPlayed}"></td>
        </tr>
        </tbody>
    </table>

</div>

<div>
    <footer> </footer>
</div>

<script type="text/javascript">

    formatAvgGoals();

    function formatAvgGoals() {
        let avgGoalsText = document.getElementById("averageGoals");
        let avgGoals = parseFloat(avgGoalsText.innerText.valueOf());
console.log(avgGoalsText);
console.log(avgGoals);
        avgGoalsText.innerText = avgGoals.toFixed(2);
        console.log(avgGoalsText);
    }

</script>

</body>

</html>